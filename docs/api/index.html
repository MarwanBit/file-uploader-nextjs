<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>File Uploader Next.js - API Documentation - v0.1.0</title><meta name="description" content="Documentation for File Uploader Next.js - API Documentation"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">File Uploader Next.js - API Documentation - v0.1.0</a><div id="tsd-toolbar-links"><a href="https://github.com/marwanbit/file-uploader-nextjs">GitHub</a></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>File Uploader Next.js - API Documentation - v0.1.0</h1></div><div class="tsd-panel tsd-typography"><h1 id="project-overview" class="tsd-anchor-link">Project Overview<a href="#project-overview" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><strong>file-uploader-next-js</strong> is a full-stack web application designed to support users ability to upload, share, and delete files and folders. Powered by Amazon's S3 (Simple Storage Service), PostgresSQL, and Clerk, users are able to store their files on the cloud, and access them anywhere with an internet connection.</p>
<h1 id="tech-stack" class="tsd-anchor-link">Tech Stack<a href="#tech-stack" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><ul>
<li><strong>Frontend:</strong> React, Framer-Motion, Typescript, NextJS, TailwindCSS, ShadcnUI.</li>
<li><strong>Backend:</strong> PrismaORM, PostgresSQL, AmazonS3, Amazon SDK, Clerk, Typescript.</li>
<li><strong>Testing:</strong> Vitest, React-Testing-Library, Cypress.</li>
<li><strong>Documentation:</strong> TypeDoc.</li>
</ul>
<h1 id="screenshots" class="tsd-anchor-link">Screenshots<a href="#screenshots" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><h1 id="quick-start" class="tsd-anchor-link">Quick Start<a href="#quick-start" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Before starting the application, the user must connect external services, those services being Amazon S3, Clerk, and a prisma PostgresSQL database. To begin, create a .env variable with the following environment variables. When developing locally, these environment variables are the environment variables for the test database, test S3 bucket, and test clerk project, for the Cypress end2end tests to work, these must be configured.</p>
<pre><code><br/><span class="hl-0">DATABASE_URL</span><span class="hl-1">=...</span><br/><br/><span class="hl-1"># </span><span class="hl-0">AWS</span><span class="hl-1"> </span><span class="hl-2">File</span><span class="hl-1"> </span><span class="hl-2">Storage</span><span class="hl-1"> </span><span class="hl-2">Configuration</span><br/><span class="hl-0">AWS_ACCESS_KEY_ID</span><span class="hl-1">=...</span><br/><span class="hl-0">AWS_SECRET_ACCESS_KEY</span><span class="hl-1">=...</span><br/><span class="hl-0">AWS_REGION</span><span class="hl-1">=...</span><br/><span class="hl-0">APPLICATION_BUCKET_NAME</span><span class="hl-1">=...</span><br/><br/><span class="hl-1"># </span><span class="hl-2">General</span><span class="hl-1"> </span><span class="hl-2">Application</span><span class="hl-1"> </span><span class="hl-2">Configuration</span><br/><span class="hl-0">PORT</span><span class="hl-1">=</span><span class="hl-3">3000</span><br/><br/><span class="hl-1"># </span><span class="hl-2">Clerk</span><span class="hl-1"> </span><span class="hl-2">stuff</span><br/><span class="hl-0">NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY</span><span class="hl-1">=...</span><br/><span class="hl-0">CLERK_SECRET_KEY</span><span class="hl-1">=...</span><br/><span class="hl-0">NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL</span><span class="hl-1">=/</span><span class="hl-2">folders</span><br/><span class="hl-0">NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL</span><span class="hl-1">=/</span><span class="hl-2">folders</span><br/><span class="hl-0">NEXT_PUBLIC_API_URL</span><span class="hl-1">=/</span><span class="hl-2">api</span><br/><br/><span class="hl-0">CYPRESS_BASE_URL</span><span class="hl-1">=</span><span class="hl-4">&#39;http://localhost:3000&#39;</span>
</code><button>Copy</button></pre>

<h1 id="directory-structure" class="tsd-anchor-link">Directory Structure<a href="#directory-structure" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Below is a visualization of the projects file structure. I have elected to only highlight the most important folders and directories for the sake of development, all other files are either configuration files for</p>
<p>ðŸ“‚ file-uploader-nextjs</p>
<p>â”œâ”€â”€ ðŸ“„ <a href="http://README.md">README.md</a>						# Project explanation for the user.</p>
<p>â””â”€â”€ ðŸ“‚ cypress/							# root folder containing all end2end testing functionality.</p>
<p>â”‚  â””â”€â”€ ðŸ“‚ e2e/							# end2end tests that test common user flows such as file upload, file download, folder deletion, share, etc.</p>
<p>â”‚  â””â”€â”€ ðŸ“‚ fixtures/						# reusable data for setting up tests.</p>
<p>â”‚  â””â”€â”€ ðŸ“‚ scripts/						# scripts used for cleanup tasks, such as reseting Clerk, S3, and postgres Databases for a clean testing environment.</p>
<p>â”‚  â””â”€â”€ ðŸ“‚ support/						# commands for common test tasks such as database cleaning, user creation and login, etc.</p>
<p>â”œâ”€â”€ ðŸ“„ docker-compose.yml				# docker compose file for creating a containerized version of the application.</p>
<p>â””â”€â”€ ðŸ“‚ docs/							# documentation for key features, system design, application components, etc.</p>
<p>â””â”€â”€ ðŸ“‚ prisma/							# contains all generated prismaORM code and migrations.</p>
<p>â”‚  â”œâ”€â”€ ðŸ“„ schema.prisma					# Schema file which describes the postgresSQL tables structure.</p>
<p>â””â”€â”€ ðŸ“‚ src/								# Directory containing all application critical code.</p>
<p>â”‚  â””â”€â”€ ðŸ“‚ api-services/					# services which the frontend uses to facilitate file and folder operations.</p>
<p>â”‚  â””â”€â”€ ðŸ“‚ app/							# NextJS app directory containing the route and page structure for the application.</p>
<p>â”‚    â””â”€â”€ ðŸ“‚ (frontend)						# Contains the frontend directory structure and pages.</p>
<p>â”‚    â””â”€â”€ ðŸ“‚ api/							# Contains all backend API routes and route handlers.</p>
<p>â”‚  â””â”€â”€ ðŸ“‚ components/					# React UI components used within the application, alonside unit tests for each component.</p>
<p>â”‚    â”œâ”€â”€ ðŸ“„ app-sidebar.tsx					# React component that generates the sidebar containing file and folder action buttons, alongside the file-tree.</p>
<p>â”‚    â””â”€â”€ ðŸ“‚ features/						# React components developed in the project that are tied key features (file upload, download, etc).</p>
<p>â”‚    â””â”€â”€ ðŸ“‚ pages/						# React components that render entire pages.</p>
<p>â”‚    â”œâ”€â”€ ðŸ“„ shared-app-sidebar.tsx			# the sidebar/navbar in the shared folder view.</p>
<p>â”‚    â””â”€â”€ ðŸ“‚ ui/							# ShadCNUI and MagicUI components.</p>
<p>â”‚  â””â”€â”€ ðŸ“‚ contexts/						# contexts used by components.</p>
<p>â”‚    â”œâ”€â”€ ðŸ“„ folder-context.tsx				# folder context used in shared folder view.</p>
<p>â”‚  â””â”€â”€ ðŸ“‚ hooks/							# Custom React hooks for accessing folder context.</p>
<p>â”‚    â”œâ”€â”€ ðŸ“„ use-folder.ts					# Custom hook for accessing the folder context for the shared file/folder view.</p>
<p>â”‚  â””â”€â”€ ðŸ“‚ interfaces/						# Interfaces describing what the clients</p>
<p>â”‚  â””â”€â”€ ðŸ“‚ lib/							# Contains singletons for API setup, S3 clients,</p>
<p>â”‚  â”œâ”€â”€ ðŸ“„ middleware.ts					# middleware functions for clerk authentication.</p>
<p>â”‚  â””â”€â”€ ðŸ“‚ services/						# Backend services which abstract away file and folder creation, share, deletion, etc from business logic.</p>
<p>â”‚  â””â”€â”€ ðŸ“‚ types/							# Global types for the folder and file objects.</p>
<h1 id="documentation-links" class="tsd-anchor-link">Documentation Links<a href="#documentation-links" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>For more detailed documentation on particular components or functions, this project utilizes TypeDoc to automatically generate documentation. In order to generate and serve this documentation, please execute the following commands in a terminal located at the root directory.</p>
<pre><code class="bash"><span class="hl-5">npm</span><span class="hl-1"> </span><span class="hl-4">install</span><br/><span class="hl-5">npm</span><span class="hl-1"> </span><span class="hl-4">run</span><span class="hl-1"> </span><span class="hl-4">docs:clean</span><br/><span class="hl-5">npm</span><span class="hl-1"> </span><span class="hl-4">run</span><span class="hl-1"> </span><span class="hl-4">docs</span><br/><span class="hl-5">npm</span><span class="hl-1"> </span><span class="hl-4">run</span><span class="hl-1"> </span><span class="hl-4">docs:open</span>
</code><button type="button">Copy</button></pre>

<p>The first command installs the necessary packages which the project utilizes, while the remaining commands clean, generate, and serve the documents respectively. After running each of these commands, the user should be able to see a tab open in their default browser, showing the generated documentation.</p>
<h1 id="testing" class="tsd-anchor-link">Testing<a href="#testing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>To run the tests first make sure that all your environment variables are</p>
<h1 id="deployment" class="tsd-anchor-link">Deployment<a href="#deployment" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1></div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#project-overview"><span>Project <wbr/>Overview</span></a><a href="#tech-stack"><span>Tech <wbr/>Stack</span></a><a href="#screenshots"><span>Screenshots</span></a><a href="#quick-start"><span>Quick <wbr/>Start</span></a><a href="#directory-structure"><span>Directory <wbr/>Structure</span></a><a href="#documentation-links"><span>Documentation <wbr/>Links</span></a><a href="#testing"><span>Testing</span></a><a href="#deployment"><span>Deployment</span></a></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://github.com/marwanbit/file-uploader-nextjs" class="tsd-nav-link">GitHub</a></nav><nav class="tsd-navigation"><a href="modules.html">File Uploader Next.js - API Documentation - v0.1.0</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
